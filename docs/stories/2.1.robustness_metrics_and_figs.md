Status: Draft

Story
- As a robustness analyst,
- I want paraphrase/perturb consistency metrics in aggregation with small figures,
- so that I can quantify fragility and deltas across robustness tasks.

Acceptance Criteria
- `robustcbrn.analysis.aggregate.aggregate_main` computes and includes in `summary.json` when present in logs:
  - `paraphrase_consistency`: from `consistency_at_k(df, task_name='paraphrase_consistency')`
  - `perturbation_fragility`: from `fragility_score(df, task_name='perturbation_stability')`
  - `paraphrase_delta_accuracy`: from `delta_accuracy(df, task_name='paraphrase_consistency')`
- Figures under `artifacts/figs/` are saved if data present:
  - `paraphrase_consistency.png` (bar + CI),
  - `perturbation_fragility.png` (bar + CI).
- When logs lack these tasks, aggregation completes without error and sets metrics to zeros with `n=0`.
- `make aggregate` writes updated `artifacts/results/summary.json` and includes new keys.

Tasks / Subtasks
- Extend `aggregate_main` to import helpers from `robustcbrn.analysis.robustness` and compute metrics guarded by presence checks.
- Extend `robustcbrn.analysis.figs` with a thin helper or reuse `save_bar_ci` to draw CI bars for the two metrics.
- Write resulting images to `get_paths().figs_dir` with canonical filenames.
- Update `docs/RESULTS_TEMPLATE.md` to reference these figures and keys from `summary.json`.

Dev Notes
- Reference files: `robustcbrn/analysis/aggregate.py`, `robustcbrn/analysis/robustness.py`, `robustcbrn/analysis/figs.py`.
- Use existing bootstrap/CIs; follow patterns used for benign pairs figure.
- Ensure no circular imports (lazy imports as needed).

Testing
- Run `scripts/run_robustness_suite.sh` on sample and then `make aggregate`; verify `summary.json` contains new keys and figures are created.
- Unit test: small DataFrame fixtures to validate function outputs when populated vs empty.

Change Log
- 2025-09-14 v1 Draft initial story (SM)

