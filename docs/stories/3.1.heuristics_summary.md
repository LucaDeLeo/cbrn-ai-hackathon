Status: Draft

Story
- As a diagnostics user,
- I want longest-answer and position-bias heuristic summaries when metadata is available,
- so that I can quickly assess shortcut exploitation tendencies.

Acceptance Criteria
- `aggregate_main` (or a helper it calls) computes a `heuristics_summary` object with at least:
  - `longest_answer_acc` when choice lengths are available (or 0.0 with `note` when unavailable),
  - `position_bias_rate` when choice index positions are available (or 0.0 with `note` when unavailable).
- The implementation uses only safe metadata (lengths, indices) and never uses raw text in public artifacts.
- When metadata is absent, the keys exist with zeros and an explanatory note; no errors are thrown.
- `docs/REPORT.md` and `docs/RESULTS_TEMPLATE.md` reflect these metrics where appropriate.

Tasks / Subtasks
- Implement `longest_answer_heuristic(df)` to compute accuracy of a "pick-longest" heuristic when `choice_lengths` or equivalent metadata is present.
- Implement `position_bias_heuristic(df)` computing win rates of fixed position choices (e.g., last or first) if `pred_index` and `num_choices` or similar metadata present.
- Add `heuristics_summary` to `summary.json`.
- Document metadata expectations and absence behavior in `docs/USAGE.md`.

Dev Notes
- Reference files: `robustcbrn/analysis/aggregate.py` (has placeholder for longest), `robustcbrn/qa/filters.py` (length helpers), logs format from Inspect.
- Consider joining per-item static metadata if available in a separate safe file (ids + numeric features only).

Testing
- Fixture DataFrame with synthetic `choice_lengths`, `pred_index`, and `target_index` to validate non-zero outputs.
- Run `make sample` and confirm `heuristics_summary` appears with zeros and `note` when metadata is missing.

Change Log
- 2025-09-14 v1 Draft initial story (SM)

